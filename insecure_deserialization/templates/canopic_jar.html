<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>The Cursed Canopic Jars</title>
    
    <!-- Bootstrap & CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="/static/style.css">
    
    <style>
        body {
            background-image: url("/static/images/jar.jpg");
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
        }

        .container-custom {
            background: rgba(0, 0, 0, 0.85);
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 0 20px rgba(255, 215, 0, 0.8);
            border: 4px solid goldenrod;
            color: white;
            max-width: 600px;
        }

        .mystic-text {
            font-style: italic;
            text-shadow: 2px 2px 8px black;
        }

        /* üè∫ Mystisk Submit-knapp */
        .glowing-button {
            display: block;
            width: 100%;
            padding: 12px;
            font-size: 1.2em;
            font-weight: bold;
            text-transform: uppercase;
            border-radius: 8px;
            background: goldenrod;
            color: black;
            border: 2px solid gold;
            box-shadow: 0 0 15px rgba(255, 223, 0, 0.8);
            transition: all 0.3s ease-in-out;
        }

        .glowing-button:hover {
            background: gold;
            box-shadow: 0 0 25px rgba(255, 223, 0, 1);
        }

        /* üïµÔ∏è Hint-knapp */
        .hint-btn {
            margin-top: 10px;
            display: block;
            font-weight: bold;
            background: darkred;
            border: 2px solid crimson;
            box-shadow: 0 0 10px rgba(255, 0, 0, 0.5);
        }

        .hint-btn:hover {
            background: crimson;
            box-shadow: 0 0 20px rgba(255, 0, 0, 0.7);
        }

        /* ‚ùå Felmeddelande */
        .error-message {
            color: crimson;
            font-weight: bold;
            background: rgba(139, 0, 0, 0.8);
            padding: 10px;
            border-radius: 5px;
            border: 2px solid red;
            box-shadow: 0 0 10px rgba(255, 0, 0, 0.8);
        }

    </style>
</head>
<body>
    <div class="container d-flex justify-content-center align-items-center vh-100">
        <div class="container-custom text-center">
            <h1 class="display-5">üè∫ The Cursed Canopic Jars</h1>
            <p class="mystic-text">"He who tampers with the vessels of the dead shall suffer their fate..."</p>
            <p>Deep within the <b>Temple of Osiris</b>, four **Canopic Jars** hold the preserved remains of the Pharaoh‚Äôs most loyal guardians.</p>
            <p>Many have sought their power, but few have returned to tell the tale.</p>

            <!-- üîë Input & Submit -->
            <form action="/canopic_jar" method="post" class="mt-4">
                <div class="mb-3">
                    <label for="jar" class="form-label">üîë Place an offering:</label>
                    <input type="text" class="form-control shadow-sm border-warning bg-dark text-light" id="jar" name="jar" placeholder="Enter a base64 encoded object">
                </div>
                <button type="submit" class="btn glowing-button">Submit</button>
            </form>

            <!-- üïµÔ∏è Hint -->
            <a href="/canopic_jar?hint=true" class="btn hint-btn mt-3">üïµÔ∏è Need a hint?</a>

            {% if hint %}
                <h2 class="mt-4 text-warning">üïµÔ∏è HINT</h2>
                <p class="alert alert-warning">"""üè∫ Deep within the crypts of Osiris, the scribes of old sealed their secrets inside objects of power. 
                    Only those who can forge an artifact of their own shall gain the favor of the gods.
            
                    The priests whisper of a forgotten art‚Äîbinding knowledge within an offering. 
                    One must inscribe the right symbols in the language of the mystics... then encode it in the sacred script before presenting it to the jar.
            
                    Could it be that the answer lies within the very foundation of this world... 
                    a construct shaped by those who call upon the power of 'pickle'?"""</p>
            {% endif %}

            {% if result %}
                <h2 class="mt-4">üìú The Jars Speak...</h2>
                <pre class="p-3 bg-dark text-success rounded">{{ result }}</pre>
            {% endif %}

            {% if flag %}
                <h2 class="mt-4 text-success">üèÜ You have unlocked an ancient secret!</h2>
                <strong class="text-warning display-6">{{ flag }}</strong>
            {% endif %}

            {% if error %}
                <h2 class="mt-4 text-danger">‚ùå A Dark Curse Has Been Unleashed!</h2>
                <p class="error-message">{{ error }}</p>
            {% endif %}
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
