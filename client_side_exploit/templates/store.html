<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Market of Hatshepsut</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <style>
        body {
            background-image: url("../static/images/market.jpg");
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            font-family: 'Cinzel', serif;
            color: gold;
            text-align: center;
            animation: fadeIn 2s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        .container {
            background: rgba(36, 24, 12, 0.9);
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 0 30px rgba(255, 215, 0, 0.8);
            border: 4px solid goldenrod;
            animation: glow 2s infinite alternate;
        }
        @keyframes glow {
            from { box-shadow: 0 0 20px rgba(255, 215, 0, 0.5); }
            to { box-shadow: 0 0 40px rgba(255, 215, 0, 1); }
        }
        .btn-custom {
            background: darkgoldenrod;
            color: white;
            font-size: 1.2em;
            border-radius: 5px;
            padding: 10px 20px;
            text-decoration: none;
            display: inline-block;
            transition: transform 0.3s, background 0.3s;
        }
        .btn-custom:hover {
            transform: scale(1.1);
            background: goldenrod;
        }
        pre {
            background: rgba(0, 0, 0, 0.7);
            color: limegreen;
            padding: 15px;
            border-radius: 5px;
            text-align: left;
            overflow: auto;
        }
    </style>
</head>
<body>
    <h1 class="header-text">üè∫ Market of Hatshepsut</h1>
    <div class="container mt-5">
        <p>The bazaar hums with life‚Äî<b>gold glimmers in the sun, traders haggle, and the scent of incense lingers in the air.</b></p>
        <p>Yet, <b>beneath the surface of honest trade, a hidden game is played.</b> The scribes of the Pharaoh carefully watch the ledgers, ensuring that no coin vanishes without a trace...</p>
        <p>Rumors whisper of an <b>ancient trick</b>‚Äîa flaw in the system that allows the most cunning of traders to <b>alter the very fabric of commerce.</b></p>
        <p>But be warned: <b>Tampering with the Pharaoh‚Äôs wealth is a crime punishable by oblivion.</b> Many have tried. Few have escaped.</p>
        
        <form id="buy-form" action="/store/buy" method="post" class="mt-4">
            <input type="hidden" id="price" name="price" value="100">
            <button type="button" onclick="buyItem()" class="btn btn-custom">Buy</button>
        </form>
        
        <a href="/store?hint=true" class="btn btn-custom mt-3">üïµÔ∏è Need a hint?</a>
        
        {% if hint %}
            <h2 class="mt-4">üïµÔ∏è HINT</h2>
            <p class="alert alert-warning">{{ hint }}</p>
        {% endif %}
        
        {% if message %}
            <h2 class="mt-4">üìú Transaction Result</h2>
            <pre>{{ message }}</pre>
        {% endif %}
    </div>

    <script>
        // Lagrar priset i localStorage (spelaren kan manipulera detta)
        localStorage.setItem("price", "100");

        function buyItem() {
            let price = localStorage.getItem("price"); // üö® S√•rbarhet: priset kan √§ndras!
            document.getElementById("price").value = price;
            document.getElementById("buy-form").submit();
        }
    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>